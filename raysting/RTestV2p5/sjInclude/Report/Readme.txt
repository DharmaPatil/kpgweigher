1.Since you cannot call a class member function in a c function
  so you may need to declare some global(static) variable to manage it
2.remeber the call back function parameter sequence
  such as func(mark,data)